<!DOCTYPE html>
<html>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Who Goes First?</title>
<link rel="stylesheet" href="/index.css" type="text/css">

<div class="wgf-card">
  <div id="wgf-card-content" class="wgf-card-content">
    <img id="wgf-card-image" class="wgf-card-image">
    <div class="wgf-card-text"><p>This is a twenty-sided dice. Tap the dice to roll it. The player who rolls the largest number goes first.</div>
  </div>
  <div id="wgf-next-button">
    <a href="/random-card/">
    <img id="wgf-next-button-img" src="/assets/buttons/arrow_right.svg" alt="Next Card"><br>
    </a>
  </div>i
</div>

<script>
 var cardImage = document.getElementById('wgf-card-image');
 
 // Roll the dice to get a new number.
 var rollDice = function() {
   var diceRoll = Math.floor(Math.random() * 20) + 1;
   var diceRollSubpath;
   if (diceRoll < 10) {
     diceRollSubpath = '0' + diceRoll;
   } else {
     diceRollSubpath = '' + diceRoll;
   }
   cardImage.alt = '' + diceRoll;
   cardImage.src = '/assets/dice/d20_' + diceRollSubpath + '.svg';
 };
 rollDice();
 
 // Set up event handlers
 var isRolling = false;
 var rollDiceStart = function(evt) {
   if (evt) {
     evt.preventDefault();
   }
   cardImage.src = '/assets/dice/d20_blank.svg';
   isRolling = true;
 };
 cardImage.addEventListener('mousedown', rollDiceStart, false /* useCapture */);
 cardImage.addEventListener('touchstart', rollDiceStart, false /* useCapture */);
 
 var rollDiceEnd = function(evt) {
   if (!isRolling) {
     return;
   }
   if (evt) {
     evt.preventDefault();
   }
   rollDice();
   isRolling = false;
 };
 cardImage.addEventListener('mouseup', rollDiceEnd, false /* useCapture */);
 cardImage.addEventListener('mouseleave', rollDiceEnd, false /* useCapture */);
 cardImage.addEventListener('touchcancel', rollDiceEnd, false /* useCapture */);
 cardImage.addEventListener('touchend', rollDiceEnd, false /* useCapture */);
 cardImage.addEventListener('touchleave', rollDiceEnd, false /* useCapture */);

  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-71804102-1', 'auto');
  ga('send', 'pageview');

</script>
